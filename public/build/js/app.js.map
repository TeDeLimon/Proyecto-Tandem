{"version":3,"sources":["app.js"],"names":["url","conversion","moneda","criptomonedas","formulario","document","querySelector","selectMonedas","selectCriptos","divResultado","async","iniciarAPP","obtenerCriptomonedas","agregarCriptomonedas","procesarCriptomonedas","resultado","respuesta","fetch","json","error","console","log","Data","cryptos","forEach","crypto","Name","FullName","CoinInfo","option","createElement","value","innerText","append","ejemplosArrayMethods","i","length","perrito","crytoimpares","filter","index","realizarConversion","e","preventDefault","Object","values","every","modificarConversion","Event","target","selectedIndex","options","id","addEventListener"],"mappings":"AACA,MAAMA,IAAM,0EAENC,WAAa,CACfC,OAAQ,KACRC,cAAe,MAGnB,IAAIA,cAAgB,KAGpB,MAAMC,WAAaC,SAASC,cAAc,eACpCC,cAAgBF,SAASC,cAAc,iBACvCE,cAAgBH,SAASC,cAAc,wBACvCG,aAAeJ,SAASC,cAAc,cAQ5CI,eAAeC,aAKX,GAFAR,oBAAsBS,wBAEjBT,cAAe,OAMpBU,qBAHgBC,yBAWpBJ,eAAeE,uBAEX,IAAIG,EAAY,KAEhB,IAEI,MAAMC,QAAkBC,MAAMjB,KAE9Be,QAAkBC,EAAUE,OAE9B,MAAOC,GAELC,QAAQC,IAAI,yBAA0BF,GAExC,QAEE,OAAOJ,GAIf,SAASD,wBAEL,MAAQQ,KAAMC,GAAYpB,cAE1B,OAAOoB,EAGX,SAASV,qBAAqBU,GAE1BA,EAAQC,QAAQC,IAEZ,MAAMC,KAAEA,EAAIC,SAAEA,GAAaF,EAAOG,SAE5BC,EAASxB,SAASyB,cAAc,UACtCD,EAAOE,MAAQL,EACfG,EAAOG,UAAYL,EAEnBnB,cAAcyB,OAAOJ,KAI7B,SAASK,qBAAqBX,GAE1B,IAAK,IAAIY,EAAI,EAAGA,EAAIZ,EAAQa,OAAQD,KAIpCZ,EAAQC,SAAQ,SAAUa,OAM1B,MAAMC,EAAef,EAAQgB,OAAO,CAACd,EAAQe,IAAUA,EAAQ,GAAK,GAEpEpB,QAAQC,IAAIiB,GAGhB,SAASG,mBAAmBC,GAExBA,EAAEC,iBAGEC,OAAOC,OAAO5C,YAAY6C,MAAMf,GAAkB,MAATA,IACzCX,QAAQC,IAAI,wBAcpB,SAAS0B,oBAAoBC,GACzB,MAAMC,OAAEA,GAAWD,GAGbE,cAAEA,EAAaC,QAAEA,EAAOC,GAAEA,GAAOH,EAMjClB,EAHqBoB,EAAQD,GAGFnB,MAGjC9B,WAAWmD,GAAMrB,EAnHrB1B,SAASgD,iBAAiB,mBAAoB1C,YAC9CP,WAAWiD,iBAAiB,SAAUZ,oBACtClC,cAAc8C,iBAAiB,SAAUN,qBACzCvC,cAAc6C,iBAAiB,SAAUN","file":"app.js","sourcesContent":["//Variables del documento JS\r\nconst url = \"https://min-api.cryptocompare.com/data/top/mktcapfull?limit=20&tsym=USD\";\r\n\r\nconst conversion = {\r\n    moneda: null,\r\n    criptomonedas: null\r\n}\r\n\r\nlet criptomonedas = null;\r\n\r\n//Selectores del documento\r\nconst formulario = document.querySelector(\"#formulario\");\r\nconst selectMonedas = document.querySelector(\"select#moneda\");\r\nconst selectCriptos = document.querySelector(\"select#criptomonedas\");\r\nconst divResultado = document.querySelector(\"#resultado\");\r\n\r\n//Event listeners\r\ndocument.addEventListener('DOMContentLoaded', iniciarAPP);\r\nformulario.addEventListener('submit', realizarConversion);\r\nselectMonedas.addEventListener('change', modificarConversion);\r\nselectCriptos.addEventListener('change', modificarConversion);\r\n\r\nasync function iniciarAPP() {\r\n\r\n    //Consultar las criptomonedas disponibles\r\n    criptomonedas = await obtenerCriptomonedas();\r\n\r\n    if (!criptomonedas) return;\r\n\r\n    //Procesar las criptomonedas\r\n    const cryptos = procesarCriptomonedas();\r\n\r\n    //Incorporarlas al select de criptomonedas\r\n    agregarCriptomonedas(cryptos);\r\n}\r\n\r\n/**\r\n * Realiza una petición asíncrona al servidor y retorna las criptomonedas\r\n * \r\n * @returns {Array|null} Las criptomonedas obtenidas\r\n */\r\nasync function obtenerCriptomonedas() {\r\n\r\n    let resultado = null;\r\n\r\n    try {\r\n\r\n        const respuesta = await fetch(url);\r\n\r\n        resultado = await respuesta.json();\r\n\r\n    } catch (error) {\r\n\r\n        console.log(\"Algo ha salido mal => \", error);\r\n\r\n    } finally {\r\n\r\n        return resultado;\r\n    }\r\n}\r\n\r\nfunction procesarCriptomonedas() {\r\n\r\n    const { Data: cryptos } = criptomonedas;\r\n\r\n    return cryptos;\r\n}\r\n\r\nfunction agregarCriptomonedas(cryptos) {\r\n\r\n    cryptos.forEach(crypto => {\r\n\r\n        const { Name, FullName } = crypto.CoinInfo;\r\n\r\n        const option = document.createElement('OPTION');\r\n        option.value = Name;\r\n        option.innerText = FullName;\r\n\r\n        selectCriptos.append(option);\r\n    })\r\n}\r\n\r\nfunction ejemplosArrayMethods(cryptos) {\r\n\r\n    for (let i = 0; i < cryptos.length; i++) {\r\n        //console.log(cryptos[i]);\r\n    }\r\n\r\n    cryptos.forEach(function (perrito) {\r\n        //console.log(perrito);\r\n    });\r\n\r\n    //cryptos.forEach(crypto => console.log(crypto));\r\n\r\n    const crytoimpares = cryptos.filter((crypto, index) => index % 2 == 0);\r\n\r\n    console.log(crytoimpares);\r\n}\r\n\r\nfunction realizarConversion(e) {\r\n\r\n    e.preventDefault();\r\n\r\n    //Verificar que está seleccionado en ambos select alguna opción\r\n    if(!Object.values(conversion).every(value => value != null)) {\r\n        console.log(\"detengo la ejecución\")\r\n        return;\r\n    }\r\n\r\n    \r\n\r\n    //Necesitamos realizar una consulta para obtener el valor de la criptomoneda en la moneda seleccionada\r\n\r\n    //Mostrar el resultado\r\n\r\n}\r\n\r\n//const urlConvert = `https://min-api.cryptocompare.com/data/pricemultifull?fsyms=${criptomoneda}&tsysm${moneda}`;\r\n\r\nfunction modificarConversion(Event) {\r\n    const { target } = Event;\r\n\r\n    //Desectruturar el objeto sobre el que se ejecuta el evento\r\n    const { selectedIndex, options, id } = target;\r\n\r\n    //Obteniendo el option seleccionado\r\n    const optionSeleccionado = options[selectedIndex];\r\n\r\n    //El valor del option\r\n    const value = optionSeleccionado.value;\r\n\r\n    //Dinámicamente aprovechamos que el ID coincide con el nombre de la propiedad del object conversion y actualizamos su valor\r\n    conversion[id] = value;\r\n}"]}